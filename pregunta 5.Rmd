---
title: "pregunta 5"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(dplyr)
library(ggcorrplot)

info <- read.csv("athlete_events.csv")
#info2 <- read.csv("athlete_events.csv")

```

## R Markdown


```{r frame,include=TRUE}
uniqueyear = info$Year[!duplicated(info$Year)] #get the unrepeated years
uniquenoc = info$NOC[!duplicated(info$NOC)] #get the unrepeated noc

linea = info %>% filter(Year == uniqueyear[1], NOC == uniquenoc[1])

Year =uniqueyear[1]
Region = uniquenoc[1]
Athletic = length(linea$ID)
Men = length(linea$ID[linea$Sex =="M"])
Women = length(linea$ID[linea$Sex =="F"])
Bronze = count(linea %>% filter(Medal == "Bronze"))
Silver = count(linea %>% filter(Medal == "Silver"))  
Gold = count(linea %>% filter(Medal == "Gold"))

fulldf = data.frame(Year, Athletic, Men,Women,Bronze, Silver, Gold)  # Year, Region, Athletic, Men,Women,Bronze, Silver, Gold
names(fulldf) = c("Year",
                  ######"Region",
                  "Athletic",
                  "Men",
                  "Women",
                  "Bronze",
                  "Silver",
                  "Gold")
df = fulldf
fulldf

for(val_year in uniqueyear) {
  for(val_noc in uniquenoc) {
    linea = info %>% filter(Year == val_year, NOC == val_noc)
    Year= val_year
    #######Region = val_noc
    Athletic = length(linea$ID)
    Men = length(linea$ID[linea$Sex =="M"])
    Women = length(linea$ID[linea$Sex =="F"])
    Bronze = count(linea %>% filter(Medal == "Bronze"))
    Silver = count(linea %>% filter(Medal == "Silver"))  
    Gold = count(linea %>% filter(Medal == "Gold"))
    df = data.frame(Year, Athletic, Men,Women,Bronze, Silver, Gold)  ###Year, Region, Athletic, Men,Women,Bronze, Silver, Gold
    names(df) = c("Year",
                  #####"Region",
                  "Athletic",
                  "Men",
                  "Women",
                  "Bronze",
                  "Silver",
                  "Gold")
    fulldf <-rbind(fulldf,df)
  }
}


##==============================================================

# Correlation matrix
data(fulldf)
#corr <- round(cor(fulldf), 1)


ggcorrplot(cor(fulldf))

```


## Including Plots


```{r setup, include=TRUE}


```


